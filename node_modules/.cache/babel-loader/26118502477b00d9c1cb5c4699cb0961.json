{"ast":null,"code":"import _objectSpread from \"/home/chhay/Project/Vue_Project/vue2_pos/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Spinner from '../../spinner/Spinner'; //import this ixin for use spinner\n\nimport Mixin from '../../../../helper/mixin.js'; //import this ixin for use spinner\n\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  components: {\n    Spinner: Spinner\n  },\n  mixins: [Mixin],\n  name: 'CategoryList',\n  data: function data() {\n    return {\n      categoryID: '',\n      category_name: '',\n      search: '',\n      page: 1\n    };\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters('category', ['Allcategoires', 'Allerrors', 'Success'])), {}, {\n    searchFilter: function searchFilter() {\n      var _this = this;\n\n      return this.Allcategoires.data.filter(function (item) {\n        //.data mean we use ->paginate() from api so we must use .data appent to response.data -->\n        return item.category_name.toLowerCase().includes(_this.search.toLowerCase());\n      });\n    }\n  }),\n  methods: _objectSpread(_objectSpread({}, mapActions('category', ['getCategoies', 'updateCategoies', 'deleteCategoies'])), {}, {\n    Edit: function Edit(category) {\n      this.categoryID = category.id;\n      this.category_name = category.category_name;\n    },\n    Update: function Update(categoryID) {\n      var formData = new FormData();\n      formData.append('category_name', this.category_name);\n      formData.append('_method', 'PUT'); //in this route js can't understand put request so we have to use post request instead but make sure we append the formData with _'method':'PUT')\n\n      this.updateCategoies({\n        categoryID: categoryID,\n        formData: formData\n      });\n      this.showSpinner(); //to show spinnser we call showSpinner and hideSpinnser functions from mixin that we import above\n    },\n    Delete: function Delete(categoryID) {\n      if (confirm(\"Are your sure want to delete this category?\")) {\n        this.deleteCategoies(categoryID);\n        this.showSpinner(); //to show spinnser we call showSpinner and hideSpinnser functions from mixin that we import above\n      }\n    },\n    nextPage: function nextPage() {\n      if (this.page >= this.Allusers.last_page) {\n        // .last_page is getting from laravel api\n        this.page = this.Allusers.last_page;\n        this.getCategoies(this.page); // this.getCategoies(this.page) getCategoies function has payload pls see product.js in store\n      } else {\n        this.page += 1;\n        this.getCategoies(this.page); // this.getCategoies(this.page) getCategoies function has payload pls see product.js in store\n      }\n    },\n    prePage: function prePage() {\n      if (this.page <= 1) {\n        this.page = 1;\n        this.getCategoies(this.page);\n      } else {\n        this.page -= 1;\n        this.getCategoies(this.page);\n      }\n    },\n    pageNumber: function pageNumber(num) {\n      if (num <= 1) {\n        this.page = 1;\n        this.getCategoies(this.page);\n      } else if (num >= this.Allcategoires.last_page) {\n        this.page = this.Allcategoires.last_page;\n        this.getCategoies(this.page);\n      } else {\n        this.page = num;\n        this.getCategoies(this.page);\n      }\n    }\n  }),\n  mounted: function mounted() {\n    this.getCategoies(); //call this mehtod from ...mapActions if  we not mouted users will not found\n  } //     mounted(){\n  //        this.$store.dispatch( 'auth/getUsers'); // use this we dont use mapActions\n  //    }\n\n};","map":{"version":3,"sources":["CategoryList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <!-- whenever we use child route we have to add router-view to wrappe all parent component -->\n        <!-- and router-view plz see in layout/layout -->\n        <h5 class=\"title\">Category List <i class=\"fa fa-dashboard\"></i></h5>\n        <md-table  md-card v-if=\"this.Allcategoires.total>0\">\n            <md-table-toolbar>\n                <h1 class=\"md-title\">Category</h1>\n                <b-form-input v-model=\"search\" size=\"sm\" style=\"width:200px;margin-right:5px;\" class=\"\" placeholder=\"Search category name...\"></b-form-input >\n                <router-link :to=\"{name:'CreateCategory'}\"><button class=\"btn btn-secondary btn-sm text-right\"><i class=\"fas fa-plus\"></i> Add New Category</button></router-link>\n            </md-table-toolbar>\n\n            <md-table-row style=\"background-color:#ADD8E6;\">\n                <md-table-head>NO_</md-table-head>\n                <md-table-head>Category Name</md-table-head>\n                <md-table-head>Created</md-table-head>\n                <md-table-head>Updated</md-table-head>\n                <md-table-head>Action</md-table-head>\n            </md-table-row>\n\n            <md-table-row slot=\"md-table-row\" v-for=\"(category, index) in searchFilter\" :key=\"category.id\">\n                <md-table-cell >{{index+1}}</md-table-cell>\n                <md-table-cell >{{category.category_name | capitaLize}}</md-table-cell>\n                <md-table-cell >{{category.created_at | formatDate}}</md-table-cell>\n                <md-table-cell >{{category.updated_at | formatDate}}</md-table-cell>\n                <md-table-cell>\n\n                    <b-dropdown variant=\"outline-secondary\" size=\"sm\" :disabled=\"usertype === 'User'\">\n                        <template #button-content><b-icon icon=\"gear-fill\" aria-hidden=\"true\"></b-icon> Settings</template>\n                        <b-dropdown-item-button variant=\"primary\"  v-b-modal.modal @click=\"Edit(category)\" title=\"Edit\" >\n                            <b-icon icon=\"file-earmark-medical\"></b-icon> Edit\n                        </b-dropdown-item-button>\n                        <b-dropdown-item-button variant=\"danger\" @click=\"Delete(category.id)\" title=\"Delete\" >\n                            <b-icon icon=\"trash-fill\" aria-hidden=\"true\"></b-icon> Delete\n                        </b-dropdown-item-button>\n                    </b-dropdown>\n\n                </md-table-cell>\n            </md-table-row>\n        </md-table>\n\n        <md-table md-card v-if=\"this.Allcategoires.total <=0\">\n            <md-table-toolbar>\n                <h1 class=\"md-title\">No Category</h1><router-link :to=\"{name:'CreateCategory'}\"><button class=\"btn btn-secondary btn-sm text-right\"><i class=\"fas fa-plus\"></i> Add New Category</button></router-link>\n            </md-table-toolbar>\n        </md-table>\n\n         <!------------------------------------ pagination -------------------------------------->\n        <div v-if=\"this.Allcategoires.total > 0\" class=\"m-5 d-flex justify-content-around align-items-center\">\n            <div> \n                <!-- .total and .per_page are getting from laravel api -->\n                <b-button style=\"margin-right:10px;\" pill variant=\"outline-primary\" size=\"sm\" @click=\"prePage\"><b-icon icon=\"chevron-double-left\"></b-icon>Previouse</b-button>\n                <b-button pill variant=\"outline-primary\" size=\"sm\" @click=\"nextPage\">Next<b-icon icon=\"chevron-double-right\"></b-icon></b-button>\n            </div>\n            <!-- inter page num go to specify page -->\n            <div>\n                <b-form-input @input=\"pageNumber\" type=\"number\" min=\"1\" size=\"sm\" placeholder=\"Enter Page Num\" title=\"Enter page number you prefer to\"></b-form-input>\n            </div>\n            <div>\n                <p style=\"margin: 0;font-size: 12px;color: #606060;\">Page {{this.Allcategoires.current_page}} of {{this.Allcategoires.last_page}}</p>\n            </div>\n        </div>\n        <!-------------------------------------- end pagination ---------------------------------------->\n        <!-- =====================showign modal vue bootstrap for update user================== -->\n        <b-modal id=\"modal\" hide-footer title=\"Update Category\">\n            <b-alert show variant=\"success\" v-if=\"this.Success\">{{this.Success}}</b-alert>\n            <b-form @submit.prevent=\"Update(categoryID)\">\n                <div>\n                    <label for=\"name\" class=\"mb-2\">Category Name</label>\n                    <b-form-input size=\"sm\" id=\"name\"  v-model=\"category_name\" type=\"text\" placeholder=\"New Category Name\"></b-form-input>\n                    <small class=\"text-danger\" v-if=\"this.Allerrors && this.Allerrors.category_name\">{{this.Allerrors.category_name[0]}}</small>  \n                </div>   \n                <b-button variant=\"primary\" size=\"sm\" type=\"submit\" style=\"width:fit-content;margin:10px;\">Update</b-button>\n            </b-form>\n        </b-modal>\n        <!-- ======================showing spinner========================= -->\n        <Spinner :active=\"spinnerActive\" text=\"Loading...\"></Spinner>\n    </div>\n</template>\n\n<script>\nimport Spinner from '../../spinner/Spinner'; //import this ixin for use spinner\nimport Mixin from '../../../../helper/mixin.js'; //import this ixin for use spinner\nimport {mapActions,mapGetters} from 'vuex';\nexport default {\n    components: {Spinner},\n    mixins: [Mixin],\n    name:'CategoryList',\n    data(){\n        return{\n            categoryID: '',\n            category_name:'',\n            search:'',\n            page:1,\n        }\n    },\n    computed:{\n        ...mapGetters('category',['Allcategoires','Allerrors','Success']),\n        searchFilter(){\n            return this.Allcategoires.data.filter((item) => { //.data mean we use ->paginate() from api so we must use .data appent to response.data -->\n                return item.category_name.toLowerCase().includes(this.search.toLowerCase());\n            });\n        }\n    },\n    methods:{\n        ...mapActions('category',['getCategoies','updateCategoies','deleteCategoies']),\n        Edit(category){\n            this.categoryID = category.id;\n            this.category_name = category.category_name;\n        },\n        Update(categoryID){\n            let formData = new FormData();\n            formData.append('category_name',this.category_name);\n            formData.append('_method', 'PUT')  //in this route js can't understand put request so we have to use post request instead but make sure we append the formData with _'method':'PUT')\n            this.updateCategoies({categoryID,formData})\n            this.showSpinner(); //to show spinnser we call showSpinner and hideSpinnser functions from mixin that we import above\n        \n            \n        },\n        Delete(categoryID){\n            if(confirm(\"Are your sure want to delete this category?\")){\n                this.deleteCategoies(categoryID);\n                this.showSpinner(); //to show spinnser we call showSpinner and hideSpinnser functions from mixin that we import above\n            }\n            \n        },\n        nextPage(){\n            if(this.page >= this.Allusers.last_page ){\n                // .last_page is getting from laravel api\n                this.page = this.Allusers.last_page;\n                this.getCategoies(this.page); // this.getCategoies(this.page) getCategoies function has payload pls see product.js in store\n            }else{\n                this.page+=1;\n                this.getCategoies(this.page); // this.getCategoies(this.page) getCategoies function has payload pls see product.js in store\n            }\n        },\n        prePage(){\n            if(this.page <=1){\n                this.page = 1;\n                this.getCategoies(this.page);\n            }else{\n                this.page-=1;\n                this.getCategoies(this.page);\n            }\n        },\n        pageNumber(num){\n            if(num <=1){\n                this.page = 1;\n                this.getCategoies(this.page);\n            }else if(num >= this.Allcategoires.last_page){\n                this.page = this.Allcategoires.last_page;\n                this.getCategoies(this.page);\n            }else{\n                this.page = num;\n                this.getCategoies(this.page);\n            }\n        }\n    },\n    mounted(){\n       this.getCategoies();   //call this mehtod from ...mapActions if  we not mouted users will not found\n    },\n        //     mounted(){\n        //        this.$store.dispatch( 'auth/getUsers'); // use this we dont use mapActions\n        //    }\n}\n</script>\n\n\n<style>\n\n</style>"],"sourceRoot":"src/components/ui/cetegory"},"metadata":{},"sourceType":"module"}