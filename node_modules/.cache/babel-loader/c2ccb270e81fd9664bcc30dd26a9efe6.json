{"ast":null,"code":"import _objectSpread from \"/home/chhay/Project/Vue_Project/vue2_pos/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Spinner from '../../spinner/Spinner.vue'; //import this ixin for use spinner\n\nimport Mixin from '../../../../helper/mixin.js'; //import this ixin for use spinner\n\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  components: {\n    Spinner: Spinner\n  },\n  mixins: [Mixin],\n  name: 'CreateProduct',\n  data: function data() {\n    return {\n      product: {\n        product_name: \"\",\n        category_id: \"\",\n        unitprice: \"\",\n        image: \"\"\n      },\n      preview: \"\",\n      error: \"\"\n    };\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters('category', ['Allcategoires'])), mapGetters('product', ['Allerrors', 'Success'])),\n  mounted: function mounted() {\n    this.getCategoies();\n  },\n  methods: _objectSpread(_objectSpread(_objectSpread({}, mapActions('category', ['getCategoies'])), mapActions('product', ['addProduct'])), {}, {\n    onSubmit: function onSubmit(e) {\n      e.preventDefault(); //=================append data to FormData\n\n      var formData = new FormData();\n      formData.append('product_name', this.product.product_name);\n      formData.append('category_id', this.product.category_id);\n      formData.append('unitprice', this.product.unitprice);\n      formData.append('image', this.product.image);\n      var config = {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      };\n      this.addProduct(formData, config);\n      this.showSpinner(); //to show spinnser we call showSpinner and hideSpinnser functions from mixin that we import above\n    },\n    processFile: function processFile(event) {\n      this.product.image = event.target.files[0];\n      this.preview = URL.createObjectURL(this.product.image);\n    }\n  })\n};","map":{"version":3,"sources":["CreateProduct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA,OAAA,OAAA,MAAA,2BAAA,C,CAAA;;AACA,OAAA,KAAA,MAAA,6BAAA,C,CAAA;;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,OAAA,EAAA;AAAA,GADA;AAEA,EAAA,MAAA,EAAA,CAAA,KAAA,CAFA;AAGA,EAAA,IAAA,EAAA,eAHA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AACA,QAAA,YAAA,EAAA,EADA;AAEA,QAAA,WAAA,EAAA,EAFA;AAGA,QAAA,SAAA,EAAA,EAHA;AAIA,QAAA,KAAA,EAAA;AAJA,OADA;AAOA,MAAA,OAAA,EAAA,EAPA;AAQA,MAAA,KAAA,EAAA;AARA,KAAA;AAUA,GAfA;AAgBA,EAAA,QAAA,kCACA,UAAA,CAAA,UAAA,EAAA,CAAA,eAAA,CAAA,CADA,GAEA,UAAA,CAAA,SAAA,EAAA,CAAA,WAAA,EAAA,SAAA,CAAA,CAFA,CAhBA;AAoBA,EAAA,OApBA,qBAoBA;AACA,SAAA,YAAA;AACA,GAtBA;AAuBA,EAAA,OAAA,gDACA,UAAA,CAAA,UAAA,EAAA,CAAA,cAAA,CAAA,CADA,GAEA,UAAA,CAAA,SAAA,EAAA,CAAA,YAAA,CAAA,CAFA;AAGA,IAAA,QAHA,oBAGA,CAHA,EAGA;AACA,MAAA,CAAA,CAAA,cAAA,GADA,CAEA;;AACA,UAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,cAAA,EAAA,KAAA,OAAA,CAAA,YAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,aAAA,EAAA,KAAA,OAAA,CAAA,WAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,WAAA,EAAA,KAAA,OAAA,CAAA,SAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,OAAA,CAAA,KAAA;AACA,UAAA,MAAA,GAAA;AACA,QAAA,OAAA,EAAA;AACA,0BAAA;AADA;AADA,OAAA;AAKA,WAAA,UAAA,CAAA,QAAA,EAAA,MAAA;AACA,WAAA,WAAA,GAdA,CAcA;AACA,KAlBA;AAmBA,IAAA,WAnBA,uBAmBA,KAnBA,EAmBA;AACA,WAAA,OAAA,CAAA,KAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,OAAA,GAAA,GAAA,CAAA,eAAA,CAAA,KAAA,OAAA,CAAA,KAAA,CAAA;AACA;AAtBA;AAvBA,CAAA","sourcesContent":["<template>\n        <div>                \n            <md-content class=\"md-elevation-4\" style=\"padding:15px; border-radius:4px; width:70%; margin:auto;\">\n                <h5 class=\"title text-center\">Add Product</h5>\n                <div class=\"row d-flex justify-content-center\">\n                    <div class=\"col-12 col-sm-12\">\n                        <b-alert show variant=\"success\" v-if=\"this.Success\">{{this.Success}}</b-alert>\n                        <b-form @submit.prevent=\"onSubmit\">\n                            <div class=\"row\">\n                                <div class=\"mb-3 col-lg-6 col-sm-12\">\n                                    <label for=\"product_name\" class=\"mb-2\">Product Name</label>\n                                    <b-form-input size=\"sm\" id=\"product_name\"  v-model=\"product.product_name\" type=\"text\" placeholder=\"Name\"></b-form-input>\n                                    <small class=\"text-danger\" v-if=\"this.Allerrors && this.Allerrors.product_name\">{{this.Allerrors.product_name[0]}}</small>\n                                </div>\n                                <div class=\"mb-3 col-lg-6 col-sm-12\">\n                                    <label for=\"usertype\" class=\"mb-2\">Category</label>\n                                    <select v-model=\"product.category_id\" class=\"form-select form-select-sm\">\n                                        <option value=\"\" :selected=\"true\" :disabled=\"true\">Select Category</option>\n                                        <option v-for=\"category in this.Allcategoires.data\" :key=\"category.id\" :value=\"category.id\">\n\t\t\t\t\t\t\t\t\t\t\t{{category.category_name}}\n\t\t\t\t\t\t\t\t\t\t</option>\n                                    </select>\n                                    <small class=\"text-danger\" v-if=\"this.Allerrors && this.Allerrors.category_id\">{{this.Allerrors.category_id[0]}}</small>\n                                </div>\n                                <div class=\"mb-3 col-lg-6 col-sm-12\">\n                                    <label for=\"unitprice\" class=\"mb-2\">Unit Price ($)</label>\n\t\t\t\t\t\t\t\t\t<b-form-input id=\"unitprice\" size=\"sm\" v-model=\"product.unitprice\" type=\"text\" placeholder=\"0.00\"></b-form-input>\n                                    <small class=\"text-danger\" v-if=\"this.Allerrors && this.Allerrors.unitprice\">{{this.Allerrors.unitprice[0]}}</small>\n                                </div>\n                                <div class=\"mb-3 col-lg-6 col-sm-12\">\n                                    <label for=\"image\" class=\"mb-2\">Image</label>\n                                    <input @change=\"processFile\" id=\"image\" class=\"form-control form-control-sm\" type=\"file\">\n                                    <small class=\"text-danger\" v-if=\"this.Allerrors && this.Allerrors.image\">{{this.Allerrors.image[0]}}</small>\n                                </div>\n                                <div class=\"d-flex justify-content-start\">\n\t\t\t\t\t\t\t\t\t<div id=\"previewImg\">\n\t\t\t\t\t\t\t\t\t\t<img v-if=\"preview\" :src=\"preview\" >\n\t\t\t\t\t\t\t\t\t</div>\n                                </div>\n                                <b-button :disabled=\"usertype === 'User'\" variant=\"primary\" size=\"sm\" type=\"submit\" style=\"width:fit-content;margin:10px;\">Create</b-button>\n                            </div>\n                        </b-form>\n                    </div>\n                </div>\n            </md-content>\n            <!-- ======================showing spinner========================= -->\n            <Spinner :active=\"spinnerActive\" text=\"Loading...\"></Spinner>\n        </div>\n</template>\n\n<script>\nimport Spinner from '../../spinner/Spinner.vue'; //import this ixin for use spinner\nimport Mixin from '../../../../helper/mixin.js'; //import this ixin for use spinner\nimport {mapActions,mapGetters} from 'vuex'\nexport default {\n    components: {Spinner},\n    mixins: [Mixin],\n    name: 'CreateProduct',\n    data(){\n        return{\n            product:{\n                product_name:\"\",\n                category_id:\"\",\n                unitprice:\"\",\n                image:\"\"\n            },\n\t\t\tpreview: \"\",\n\t\t\terror:\"\",\n        }\n\t},\n    computed:{\n\t\t...mapGetters('category',['Allcategoires']),\n\t\t...mapGetters('product',['Allerrors','Success']),\n    },\n    mounted(){\n        this.getCategoies();\n    },\n    methods:{\n\t\t...mapActions('category',['getCategoies']),\n\t\t...mapActions('product',['addProduct']),\n        onSubmit(e){\n            e.preventDefault();\n            //=================append data to FormData\n            let formData = new FormData();\n            formData.append('product_name',this.product.product_name);\n            formData.append('category_id',this.product.category_id);\n            formData.append('unitprice',this.product.unitprice);\n            formData.append('image',this.product.image);\n            let config = {\n                headers:{\n                    'Content-Type': 'multipart/form-data',         \n                }        \n            }\n            this.addProduct(formData,config);\n            this.showSpinner(); //to show spinnser we call showSpinner and hideSpinnser functions from mixin that we import above\n        },\n        processFile(event) {\n            this.product.image = event.target.files[0];\n            this.preview = URL.createObjectURL(this.product.image);\n\t\t},\n    }\n\n}\n</script>\n\n<style>\n#previewImg{\n    width: 80%;\n}\n#preview img{\n    width: 100%;\n}\n.title{\n    padding: 20px 0;\n}\n</style>"],"sourceRoot":"src/components/ui/product"},"metadata":{},"sourceType":"module"}