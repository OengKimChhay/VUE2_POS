{"ast":null,"code":"import route from '@/route/index.js';\nimport store from '@/store/index.js';\nexport default route.beforeEach(function (to, from, next) {\n  // console.log(store.getters['auth/loggedIn']);\n  var requiresAuth = to.matched.some(function (record) {\n    return record.meta.requiresAuth;\n  });\n  var disableIfLoggedIn = to.matched.some(function (record) {\n    return record.meta.disableIfLoggedIn;\n  });\n  var checkAuth = store.getters['auth/loggedIn'];\n\n  if (requiresAuth) {\n    //check if each route has requiresAuth:true; and if toke is empty or null \n    if (!checkAuth) {\n      next({\n        name: 'Login'\n      });\n    } else {\n      next();\n    }\n  } else if (checkAuth && disableIfLoggedIn) {\n    //check if user is loggedin it will condition to hide login route\n    next({\n      name: 'Dashboard'\n    });\n  } else {\n    next();\n  }\n});","map":{"version":3,"sources":["/home/chhay/Project/Vue_Project/vue2_pos/src/route/guard/auth.js"],"names":["route","store","beforeEach","to","from","next","requiresAuth","matched","some","record","meta","disableIfLoggedIn","checkAuth","getters","name"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,kBAAlB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AAEA,eAAeD,KAAK,CAACE,UAAN,CAAiB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAChD;AACA,MAAIC,YAAY,GAAGH,EAAE,CAACI,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACC,IAAP,CAAYJ,YAAhB;AAAA,GAAtB,CAAnB;AACA,MAAIK,iBAAiB,GAAGR,EAAE,CAACI,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACC,IAAP,CAAYC,iBAAhB;AAAA,GAAtB,CAAxB;AACA,MAAIC,SAAS,GAAGX,KAAK,CAACY,OAAN,CAAc,eAAd,CAAhB;;AACA,MAAGP,YAAH,EAAgB;AAAE;AACd,QAAG,CAACM,SAAJ,EAAc;AACVP,MAAAA,IAAI,CAAC;AAACS,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAJ;AACH,KAFD,MAEK;AACDT,MAAAA,IAAI;AACP;AACJ,GAND,MAMM,IAAGO,SAAS,IAAID,iBAAhB,EAAkC;AAAG;AACvCN,IAAAA,IAAI,CAAC;AAACS,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAJ;AACH,GAFK,MAED;AACDT,IAAAA,IAAI;AACP;AACJ,CAhBc,CAAf","sourcesContent":["import route from '@/route/index.js';\nimport store from '@/store/index.js';\n\nexport default route.beforeEach((to, from, next) => {\n    // console.log(store.getters['auth/loggedIn']);\n    var requiresAuth = to.matched.some(record => record.meta.requiresAuth);\n    var disableIfLoggedIn = to.matched.some(record => record.meta.disableIfLoggedIn);\n    var checkAuth = store.getters['auth/loggedIn'];\n    if(requiresAuth){ //check if each route has requiresAuth:true; and if toke is empty or null \n        if(!checkAuth){\n            next({name: 'Login'}); \n        }else{\n            next();\n        }\n    }else if(checkAuth && disableIfLoggedIn){  //check if user is loggedin it will condition to hide login route\n        next({name:'Dashboard'}); \n    }else{\n        next();\n    }\n});\n\n"]},"metadata":{},"sourceType":"module"}