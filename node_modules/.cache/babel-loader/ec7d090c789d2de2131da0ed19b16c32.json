{"ast":null,"code":"import _objectSpread from \"/home/chhay/Project/Vuvejs2/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Spinner from '../spinner/Spinner'; //import this ixin for use spinner\n\nimport Mixin from '../../../helper/mixin.js'; //import this ixin for use spinner\n\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  components: {\n    Spinner: Spinner\n  },\n  mixins: [Mixin],\n  name: 'UserRegister',\n  data: function data() {\n    return {\n      step: 'login',\n      login: {\n        user: \"\",\n        pass: \"\"\n      },\n      users: {\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        re_password: \"\",\n        phone: \"\",\n        userType: \"\",\n        image: \"\"\n      },\n      preview: \"\",\n      error: \"\"\n    };\n  },\n  computed: _objectSpread({}, mapGetters('auth', ['Allerrors', 'Loginerrors', 'loggedIn'])),\n  mounted: function mounted() {\n    if (this.loggedIn) {\n      //check if user is loggedin it will condition to hide login route we also project in route guard (disableIfLoggedIn) to make secure\n      this.$router.push({\n        name: 'Dashboard'\n      });\n    }\n  },\n  methods: _objectSpread(_objectSpread({}, mapActions('auth', ['addUsers', 'loginUser'])), {}, {\n    onSubmit: function onSubmit(e) {\n      e.preventDefault(); //=================append data to FormData\n\n      var formData = new FormData();\n      formData.append('name', this.users.name);\n      formData.append('email', this.users.email);\n      formData.append('password', this.users.password);\n      formData.append('re_password', this.users.re_password);\n      formData.append('phone', this.users.phone);\n      formData.append('userType', this.users.userType);\n      formData.append('image', this.users.image);\n      var config = {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      };\n      this.addUsers(formData, config);\n      this.showSpinner(); //to show spinnser we call showSpinner and hideSpinnser functions from mixin that we import above\n    },\n    onLogin: function onLogin(e) {\n      e.preventDefault(); //=================append data to FormData\n\n      var formData = new FormData();\n      formData.append('user', this.login.user);\n      formData.append('pass', this.login.pass);\n      this.loginUser(formData);\n      this.showSpinner();\n    },\n    processFile: function processFile(event) {\n      this.users.image = event.target.files[0];\n      this.preview = URL.createObjectURL(this.users.image);\n    },\n    // check if first number 0 or not\n    checkPhone: function checkPhone(phone) {\n      var check = String(phone).charAt(0); //get first number\n\n      if (check != 0) {\n        this.error = 'Phone number invalid';\n        this.users.phone = \"\";\n        return this.error;\n      } else {\n        this.error = \"\";\n        return this.users.phone.replace(/^\\s+|\\s+$/gm, '');\n      }\n    }\n  })\n};","map":{"version":3,"sources":["UserLogin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div class=\"wrappe-login\"> <!--if=\"!isLoggedIn\" this condition is hide login page if user is logged id -->\n\t\t\t<div v-if=\"step === 'login'\">\n\t\t\t\t<h3 class=\"text-center text-primary\">Login</h3>\n\t\t\t\t<b-alert show variant=\"danger\" v-if=\"this.Loginerrors\">{{this.Loginerrors}}</b-alert>\n\t\t\t\t<b-form  @submit.prevent=\"onLogin\" class=\"login\">\n\t\t\t\t\t<div class=\"mb-3 \">\n\t\t\t\t\t\t<label for=\"log\" class=\"mb-2\">Username</label>\n\t\t\t\t\t\t<b-form-input v-model=\"login.user\" size=\"sm\" id=\"log\" placeholder=\"Email or Phone Number\"></b-form-input>\n\t\t\t\t\t\t<small class=\"text-danger\" v-if=\"this.Allerrors && this.Allerrors.user\">{{this.Allerrors.user[0]}}</small>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t\t<label for=\"pass\" class=\"mb-2\">Password</label>\n\t\t\t\t\t\t<b-form-input v-model=\"login.pass\" size=\"sm\" id=\"pass\"   type=\"text\" placeholder=\"Password\"></b-form-input>\n\t\t\t\t\t\t<small class=\"text-danger\" v-if=\"this.Allerrors && this.Allerrors.pass\">{{this.Allerrors.pass[0]}}</small><br>\n\t\t\t\t\t\t<a href=\"\">Forget password</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<b-button variant=\"primary\" size=\"sm\" type=\"submit\" style=\"width:fit-content;margin:10px;\">Login</b-button>\n\t\t\t\t\t<a href=\"#\" @click.prevent=\"step= 'register'\" variant=\"secondary\" size=\"sm\" style=\"width:fit-content;margin:10px;\">Register</a>\n\t\t\t\t</b-form>\n\t\t\t</div>\n\n\t\t\t<div v-if=\"step==='register'\">\n\t\t\t\t<h3 class=\"text-center text-primary\">Register</h3>\n\t\t\t\t<b-form @submit.prevent=\"onSubmit\" class=\"register\">\n\t\t\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t\t\t<label for=\"name\" class=\"mb-2\">Name</label>\n\t\t\t\t\t\t\t<b-form-input size=\"sm\" id=\"name\"  v-model=\"users.name\" type=\"text\" placeholder=\"Name\"></b-form-input>\n\t\t\t\t\t\t\t<small class=\"text-danger\" v-if=\"this.Allerrors && this.Allerrors.name\">{{this.Allerrors.name[0]}}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mb-3 \">\n\t\t\t\t\t\t\t<label for=\"email\" class=\"mb-2\">Email</label>\n\t\t\t\t\t\t\t<b-form-input size=\"sm\" id=\"email\"  v-model=\"users.email\" type=\"email\" placeholder=\"Example@gmail.com\"></b-form-input>\n\t\t\t\t\t\t\t<small class=\"text-danger\" v-if=\"this.Allerrors && this.Allerrors.email\">{{this.Allerrors.email[0]}}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mb-3 \">\n\t\t\t\t\t\t\t<label for=\"password\" class=\"mb-2\">Password</label>\n\t\t\t\t\t\t\t<b-form-input size=\"sm\" id=\"password\"  v-model=\"users.password\" type=\"password\" placeholder=\"Password\"></b-form-input>\n\t\t\t\t\t\t\t<small class=\"text-danger\" v-if=\"this.Allerrors && this.Allerrors.password\">{{this.Allerrors.password[0]}}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mb-3 \">\n\t\t\t\t\t\t\t<label for=\"re_password\" class=\"mb-2\">Re-Password</label>\n\t\t\t\t\t\t\t<b-form-input size=\"sm\" id=\"re_password\"  v-model=\"users.re_password\" type=\"password\" placeholder=\"Password\"></b-form-input>\n\t\t\t\t\t\t\t<small class=\"text-danger\" v-if=\"this.Allerrors && this.Allerrors.re_password\">{{this.Allerrors.re_password[0]}}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mb-3 \">\n\t\t\t\t\t\t\t<label for=\"phone\" class=\"mb-2\">Phone Number</label>\n\t\t\t\t\t\t\t<b-form-input size=\"sm\" id=\"phone\" @change=\"checkPhone(users.phone)\"  v-model=\"users.phone\" type=\"text\" placeholder=\"Phone Number\"></b-form-input>\n\t\t\t\t\t\t\t<small class=\"text-danger\" v-if=\"this.Allerrors && this.Allerrors.phone\">{{this.Allerrors.phone[0]}}</small>\n\t\t\t\t\t\t\t<small class=\"text-danger\" v-if=\"this.error\">{{this.error}}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mb-3 \">\n\t\t\t\t\t\t\t<label for=\"usertype\" class=\"mb-2\">User Type</label>\n\t\t\t\t\t\t\t<select v-model=\"users.userType\" class=\"form-select form-select-sm\">\n\t\t\t\t\t\t\t\t<option value=\"\" :selected=\"true\" :disabled=\"true\">Select User Type</option>\n\t\t\t\t\t\t\t\t<option :value=\"'User'\">User</option>\n\t\t\t\t\t\t\t\t<option :value=\"'Admin'\">Admin</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t<small class=\"text-danger\" v-if=\"this.Allerrors && this.Allerrors.userType\">{{this.Allerrors.userType[0]}}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mb-3 \">\n\t\t\t\t\t\t\t<label for=\"image\" class=\"mb-2\">Image</label>\n\t\t\t\t\t\t\t<input @change=\"processFile\" id=\"image\" class=\"form-control form-control-sm\" type=\"file\">\n\t\t\t\t\t\t\t<small class=\"text-danger\" v-if=\"this.Allerrors && this.Allerrors.image\">{{this.Allerrors.image[0]}}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"d-flex justify-content-start\">\n\t\t\t\t\t\t\t\t<div id=\"preview\">\n\t\t\t\t\t\t\t\t\t<img v-if=\"preview\" :src=\"preview\" >\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<b-button variant=\"primary\" size=\"sm\" type=\"submit\" style=\"width:fit-content;margin:10px;\">Create</b-button>\n\t\t\t\t\t\t<a href=\"#\" @click.prevent=\"step= 'login'\" variant=\"secondary\" size=\"sm\" style=\"width:fit-content;margin:10px;\">Login</a>\n\t\t\t\t</b-form>\n\t\t\t</div>\n\t\t\t\n            <!-- ======================showing spinner========================= -->\n            <Spinner :active=\"spinnerActive\" text=\"Loading...\"></Spinner>\n\t</div>\t\t\n</template>\n\n<script>\nimport Spinner from '../spinner/Spinner'; //import this ixin for use spinner\nimport Mixin from '../../../helper/mixin.js'; //import this ixin for use spinner\nimport {mapActions,mapGetters} from 'vuex';\nexport default {\n    components: {Spinner},\n    mixins: [Mixin],\n    name: 'UserRegister',\n    data(){\n        return{\n\t\t\tstep:'login',\n\t\t\tlogin:{\n\t\t\t\tuser:\"\",\n\t\t\t\tpass:\"\"\n\t\t\t},\n            users:{\n                name:\"\",\n                email:\"\",\n                password:\"\",\n                re_password:\"\",\n                phone:\"\",\n                userType:\"\",\n                image:\"\",\n            },\n            preview: \"\",\n            error:\"\",\n        }\n\t},\n    computed:{\n\t\t...mapGetters('auth',['Allerrors','Loginerrors','loggedIn']),\n\t},\n\tmounted(){ \n\t\tif(this.loggedIn){ //check if user is loggedin it will condition to hide login route we also project in route guard (disableIfLoggedIn) to make secure\n\t\t\tthis.$router.push({name:'Dashboard'});\n\t\t}\n\t},\n    methods:{\n        ...mapActions('auth',['addUsers','loginUser']),\n        onSubmit(e){\n            e.preventDefault();\n            //=================append data to FormData\n            let formData = new FormData();\n            formData.append('name',this.users.name);\n            formData.append('email',this.users.email);\n            formData.append('password',this.users.password);\n            formData.append('re_password',this.users.re_password);\n            formData.append('phone',this.users.phone);\n            formData.append('userType',this.users.userType);\n            formData.append('image',this.users.image);\n            let config = {\n                headers:{\n                    'Content-Type': 'multipart/form-data',         \n                }        \n            }\n            \n            this.addUsers(formData,config);\n            this.showSpinner(); //to show spinnser we call showSpinner and hideSpinnser functions from mixin that we import above\n        \n\t\t},\n\t\tonLogin(e){\n\t\t\te.preventDefault();\n            //=================append data to FormData\n            let formData = new FormData();\n            formData.append('user',this.login.user);\n\t\t\tformData.append('pass',this.login.pass);\n\t\t\tthis.loginUser(formData);\n\t\t\tthis.showSpinner();\n\t\t},\n        processFile(event) {\n            this.users.image = event.target.files[0];\n            this.preview = URL.createObjectURL(this.users.image);\n        },\n        // check if first number 0 or not\n        checkPhone(phone){\n            let check = String(phone).charAt(0); //get first number\n            if(check != 0){\n                this.error = 'Phone number invalid';\n                this.users.phone = \"\";\n                return this.error;\n            }else{\n                this.error = \"\";\n                return this.users.phone.replace(/^\\s+|\\s+$/gm,'');\n            }\n        }\n    }\n\n}\n</script>\n\n<style>\n.wrappe-login{\n\tposition: fixed;\n    top: 0;\n    left: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #f7f7f7;\n    width: 100%;\n    z-index: 1000;\n    height: 100vh;\n\toverflow: hidden;\n\toverflow-y: scroll;\n}\n.register{\n\twidth: 400px;\n    box-shadow: 0px 0px 6px #adadad;\n    height: 484px;\n    overflow: hidden;\n    overflow-y: scroll;\n    padding: 30px;\n    background: white;\n    border-radius: 5px;\n}\n.login{\n\twidth: 400px;\n    box-shadow: 0px 0px 6px #adadad;\n    padding: 30px;\n    background: white;\n    border-radius: 5px;\n}\n\n#preview{\n    width: 100%;\n}\n#preview img{\n    width: 100%;\n}\n.title{\n    padding: 20px 0;\n}\n.logo-user{\n    display: flex;\n    justify-content: center;\n}\n.logo-user img{\n    width:100px;\n}\n\n</style>"],"sourceRoot":"src/components/auth"},"metadata":{},"sourceType":"module"}